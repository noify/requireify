var requirejs,require,define;(function(e){var r=null;var t={type:function(e){return e===null?e+"":Object.prototype.toString.call(e).toLowerCase().match(/\s([^\]]+)/)[1]},each:function(e,r){var t=0,n=e.length,a=this.arrayLike(e),i;if(a){for(;t<n;t++){i=r.call(e[t],t,e[t]);if(i===false)break}}else{for(t in e){i=r.call(e[t],t,e[t]);if(i===false)break}}},arrayLike:function(e){return this.type(e.length)=="number"&&this.type(e.splice)=="function"},makeArray:function(e){try{return[].slice.call(e)}catch(a){var r=[],t=0,n=e.length;for(;t<n;t++){r.push(e[t])}return r}},normalizePath:function(e){e=e.replace(/\.js$/,"");e=e.replace(/\/+/g,"/");e=e.replace(/\/\.\//g,"/");e=e.replace(/^\.?\//,"");while(~e.indexOf("../")){e=e.replace(/[^\.\/]+\/\.\.\//g,"")}return e},resolvePath:function(e,r){e=e.replace(/[^\/]+$/,"");if(r){e+="/"+r}return this.normalizePath(e)}};function n(){var e=[],r=(arguments[0]||"").split(" "),n=0,a=~r.indexOf("stopOnFalse"),i=~r.indexOf("once"),o=~r.indexOf("memory")?[]:null,u=[];function l(r){if(o&&n==2){r.apply(null,u)}if(s())return this;e.push(r);return this}function c(){if(s())return this;u=t.makeArray(arguments);n=1;t.each(e,function(e,r){if(r.apply(null,u)===false&&a){return false}});n=2;if(i)f();return this}function f(){e=undefined;return this}function s(){return!e}return{add:l,fire:c,disable:f,disabled:s}}function a(){var e=[["resolve","then",n("once memory"),"resolved"],["reject","catch",n("once memory"),"rejected"]];var r="pending";var a={state:function(){return r},promise:function(){var r=this;var n={state:r.state};t.each(e,function(e,t){n[t[1]]=r[t[1]]});return n}};t.each(e,function(e,n){a[n[0]]=function(){if(r!="pending")return this;n[2].fire.apply(n[2],t.makeArray(arguments));r=n[3];return this};a[n[1]]=function(e){n[2].add(e);return this}});return a}function i(e){e=t.makeArray(e);var r=e.length,n=0,i=new Array(r),o=a(),u=o.promise();if(r===0){o.resolve();return u}function l(){n++;var e=t.makeArray(arguments);var a=e.shift();if(e.length<=1){i[a]=e[0]}else{i[a]=e}if(n>=r){o.resolve(i)}}function c(){var e=t.makeArray(arguments);o.reject.apply(o,e)}t.each(e,function(e,r){r.then(function(){args=Array.prototype.slice.apply(arguments);args.unshift(e);l.apply(null,args)}).catch(c)});return u}var o={ver:"0.0.1",defineName:"define",requireName:"require",coreName:"requirejs",rootUrl:"",dict:{}};function u(e,r){setTimeout(function(){e=e.map(function(e){return c(t.resolvePath(o.rootUrl,e))});i(e).then(function(e){r.apply(null,e)})},0)}function l(){var e=t.makeArray(arguments);var n="",u,l;var f=e.length;if(f==1){u=[];l=e[0]}else if(f==2){u=e[0];l=e[1]}else if(f==3){n=e[0];u=e[1];l=e[2]}else{throw Error("参数个数异常")}var s=function(e,r){e=t.normalizePath(e);u=u.map(function(r){r=t.resolvePath(e,r);return c(r)});i(u).then(function(e){e=e||[];var n;var a=t.type(l);if(a=="function"){n=l.apply(null,e)}else if(a=="object"){n=l}else{throw Error("参数类型错误")}r.resolve(n)})};if(f<3){r=a();r.then(s)}else{var h=a();var p=t.resolvePath(o.rootUrl,n);o.dict[p]=h;var v=a().then(s);setTimeout(function(){v.resolve(p,h)},0)}}function c(e){var t=o.dict;if(t[e]){return t[e]}var n=f(e);var i=a();t[e]=i;n.onload=function(){var t=a();r.resolve(e,t);t.then(function(e){i.resolve(e)})};return i.promise()}function f(e){var r=document.createElement("script");r.type="text/javascript";r.async=true;r.charset="utf-8";r.src=e+".js";document.head.appendChild(r);return r}var s=o.coreName;var h=o.requireName;var p=o.defineName;window[s]=o;window[h]=u;window[p]=l;var v=[].slice.call(document.getElementsByTagName("script")).slice(-1)[0];o.rootUrl=v.getAttribute("data-main");f(o.rootUrl)})(this);