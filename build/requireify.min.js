(function(e){var r={ver:"0.0.1",defineName:"define",requireName:"require",coreName:"requirejs",rootUrl:"",dict:{}},t=null;function n(e,r){var t;for(t=0;t<e.length;t+=1){if(r.call(e[t],t,e[t])===false)break}}function i(e){try{return Array.prototype.slice.call(e)}catch(i){var r=[],t=0,n=e.length;for(;t<n;t++){r.push(e[t])}return r}}function a(e,r){path=e.replace(/[^\/]+$/,"");if(r){path+="/"+r}else{path=e}path=path.replace(/\.js$/,"").replace(/\/+/g,"/").replace(/\/\.\//g,"/").replace(/^\.?\//,"");while(~path.indexOf("../")){path=path.replace(/[^\.\/]+\/\.\.\//g,"")}return path}function o(){var e=[],r=(arguments[0]||"").split(" "),t=0,a=~r.indexOf("stopOnFalse"),o=~r.indexOf("once"),u=~r.indexOf("memory")?[]:null,c=[];function l(r){if(u&&t==2){r.apply(null,c)}if(p())return this;e.push(r);return this}function f(){if(p())return this;c=i(arguments);t=1;n(e,function(e,r){if(r.apply(null,c)===false&&a){return false}});t=2;if(o)s();return this}function s(){e=undefined;return this}function p(){return!e}return{add:l,fire:f,disable:s,disabled:p}}function u(){var e=[["resolve","then",o("once memory"),"resolved"],["reject","catch",o("once memory"),"rejected"]];var r="pending";var t={state:function(){return r},promise:function(){var r=this;var t={state:r.state};n(e,function(e,n){t[n[1]]=r[n[1]]});return t}};n(e,function(e,n){t[n[0]]=function(){if(r!="pending")return this;n[2].fire.apply(n[2],i(arguments));r=n[3];return this};t[n[1]]=function(e){n[2].add(e);return this}});return t}function c(e){e=i(e);var r=e.length,t=0,a=new Array(r),o=u(),c=o.promise();if(r===0){o.resolve();return c}function l(){t++;var e=i(arguments);var n=e.shift();if(e.length<=1){a[n]=e[0]}else{a[n]=e}if(t>=r){o.resolve(a)}}function f(){var e=i(arguments);o.reject.apply(o,e)}n(e,function(e,r){r.then(function(){args=Array.prototype.slice.apply(arguments);args.unshift(e);l.apply(null,args)}).catch(f)});return c}function l(e,t){setTimeout(function(){e=e.map(function(e){return s(a(r.rootUrl,e))});c(e).then(function(e){t.apply(null,e)})},0)}function f(){var e=i(arguments),n="",o,l,f=e.length;if(f===1){o=[];l=e[0]}else if(f===2){o=e[0];l=e[1]}else if(f===3){n=e[0];o=e[1];l=e[2]}else{throw Error("参数个数异常")}var p=function(e,r){e=a(e);o=o.map(function(r){r=a(e,r);return s(r)});c(o).then(function(e){e=e||[];var t;var n=Object.prototype.toString.call(l);if(n=="[object Function]"){t=l.apply(null,e)}else if(n=="[object Object]"){t=l}else{throw Error("参数类型错误")}r.resolve(t)})};if(f<3){t=u();t.then(p)}else{var h=u();var v=a(r.rootUrl,n);r.dict[v]=h;var d=u().then(p);setTimeout(function(){d.resolve(v,h)},0)}}function s(e){var n=r.dict;if(n[e]){return n[e]}var i=p(e);var a=u();n[e]=a;i.onload=function(){var r=u();t.resolve(e,r);r.then(function(e){a.resolve(e)})};return a.promise()}function p(e){var r=document.createElement("script");r.type="text/javascript";r.async=true;r.charset="utf-8";r.src=e+".js";document.head.appendChild(r);return r}var h=r.coreName;var v=r.requireName;var d=r.defineName;window[h]=r;window[v]=l;window[d]=f;var m=Array.prototype.slice.call(document.getElementsByTagName("script")).slice(-1)[0];r.rootUrl=m.getAttribute("data-main");p(r.rootUrl)})(this);